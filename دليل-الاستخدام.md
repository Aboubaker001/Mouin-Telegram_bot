# 📚 دليل الاستخدام - بوت معين المجتهدين

## 🎯 مرحباً بك في بوت معين المجتهدين!

بوت تلجرام متطور مصمم خصيصاً لإدارة الدورات التعليمية باللغة العربية مع ميزات شاملة للطلاب والمشرفين.

---

## 🚀 البدء السريع

### 1. تشغيل البوت
```bash
npm install
npm start
```

### 2. إعداد الرمز المميز
- احصل على رمز من [@BotFather](https://t.me/BotFather)
- ضعه في ملف `.env`:
```env
BOT_TOKEN=رمزك_هنا
```

### 3. إضافة مشرف
- أرسل `/ابدأ` للبوت
- احصل على معرف المستخدم من السجلات
- أضفه في `.env`:
```env
ADMIN_IDS=123456789
```

---

## 📝 الأوامر المتاحة

### 👥 للجميع

| الأمر | الوصف | مثال |
|-------|--------|-------|
| `/ابدأ` | التسجيل في الدورة | `/ابدأ` أو `/ابدأ 123456` |
| `/مساعدة` | عرض دليل الأوامر | `/مساعدة` |
| `/الجدول` | عرض جدول اليوم | `/الجدول` |
| `/الجدول الأسبوع` | عرض الجدول الأسبوعي | `/الجدول الأسبوع` |
| `/المحتوى` | الوصول للمكتبة التعليمية | `/المحتوى` |
| `/تذكير` | تفعيل/إلغاء التنبيهات | `/تذكير` |
| `/أسئلة` | الأسئلة الشائعة | `/أسئلة` |

### 👨‍💼 للمشرفين فقط

| الأمر | الوصف | مثال |
|-------|--------|-------|
| `/إحصائيات` | عرض إحصائيات النظام | `/إحصائيات` |
| `/تحذير` | إرسال تحذير لمستخدم | `/تحذير 123456789 مخالفة القواعد` |
| `/كتم` | كتم مستخدم لفترة محددة | `/كتم 123456789 30 إزعاج` |

---

## 🎓 ميزات النظام

### 🔐 نظام الصلاحيات
- **المشرفون**: تحكم كامل في النظام
- **الطلاب**: استخدام محدود للميزات التعليمية
- **في الانتظار**: يحتاجون موافقة للدخول

### ⏰ الجدولة التلقائية
- **تذكير يومي**: كل يوم الساعة 8:00 صباحاً
- **تنبيهات الجلسات**: قبل الجلسة بـ 60، 15، 5 دقائق
- **تحديث أسبوعي**: كل أحد الساعة 9:00 صباحاً

### 🚨 نظام التحذيرات
- **3 تحذيرات**: الحد الأقصى قبل الكتم
- **كتم تلقائي**: 30 دقيقة (قابل للتخصيص)
- **انتهاء تلقائي**: يُرفع الكتم تلقائياً

---

## 📊 لوحة الإحصائيات

### للمشرفين: `/إحصائيات`
```
📊 إحصائيات النظام الشاملة

👥 المستخدمون:
• إجمالي المسجلين: 25
• النشطون: 22 (88.0%)
• المكتومون: 1
• في انتظار التحقق: 2

🎭 الأدوار:
• المشرفون: 2
• الطلاب: 23

⚠️ الانضباط:
• إجمالي التحذيرات: 5
• متوسط التحذيرات لكل مستخدم: 0.2

📈 الأداء الأكاديمي:
• متوسط درجات الاختبارات: 85.3%
• التقدير العام: جيد جداً 🌟
```

---

## 🗓️ إدارة الجدول

### عرض الجدول
```
/الجدول          # جدول اليوم
/الجدول الأسبوع   # الجدول الكامل
```

### مثال على جدول يومي:
```
📅 الأحد:

1. 🕐 20:00 - مقدمة في البرمجة
   📚 النوع: درس
   ⏱️ المدة: 120 دقيقة
   🔗 الرابط: https://zoom.us/j/example
```

---

## 📚 نظام المحتوى

### الوصول للمكتبة: `/المحتوى`
```
📚 مكتبة المحتوى التعليمي

📖 الدروس الأساسية:
• مقدمة في البرمجة
• أساسيات JavaScript
• HTML و CSS

🎥 مقاطع الفيديو:
• شرح المتغيرات
• الدوال في JavaScript
• التحكم في DOM

📄 ملفات PDF:
• ملخص الأساسيات
• تمارين عملية
• مشاريع للتطبيق

💡 روابط مفيدة:
• موقع المطور العربي
• أكاديمية حسوب
• كودكاديمي بالعربية
```

---

## 🔧 الإعدادات المتقدمة

### ملف `.env`
```env
# البوت الأساسي
BOT_TOKEN=رمز_البوت
BOT_NAME=بوت معين المجتهدين
TIMEZONE=Africa/Cairo

# الصلاحيات
ADMIN_IDS=123456789,987654321

# إعدادات الدورة
REQUIRE_VERIFICATION=false
SUBSCRIPTION_CODE=123456
MAX_WARNINGS=3
MUTE_TIME=30

# الاختبارات
QUIZ_TIME_LIMIT=300
QUIZ_PASSING_SCORE=70
QUIZ_MAX_ATTEMPTS=3
```

### تخصيص الجدول
قم بتحرير ملف `./data/schedule.json`:
```json
{
  "weeklySchedule": {
    "sunday": {
      "sessions": [
        {
          "time": "20:00",
          "topic": "مقدمة في البرمجة",
          "type": "درس",
          "zoomLink": "https://zoom.us/j/example",
          "duration": 120
        }
      ]
    }
  }
}
```

---

## 🛡️ نظام الأمان

### التحقق من المستخدمين
```bash
# تفعيل التحقق
REQUIRE_VERIFICATION=true
SUBSCRIPTION_CODE=123456

# المستخدمون سيحتاجون:
/ابدأ 123456
```

### إدارة التحذيرات
```bash
# إرسال تحذير
/تحذير 123456789 مخالفة آداب المجموعة

# كتم مباشر
/كتم 123456789 30 إزعاج متكرر
```

---

## 🔄 الرسائل التلقائية

### أوقات الإرسال
- **8:00 صباحاً**: جدول اليوم
- **7:00 مساءً**: تحقق من الجلسات القادمة
- **الأحد 9:00 صباحاً**: تحديث أسبوعي

### تخصيص التوقيت
في `config/arabic-config.js`:
```javascript
autoMessages: {
  dailyReminder: '0 8 * * *',    // 8:00 صباحاً
  sessionReminder: '0 19 * * *', // 7:00 مساءً
  weeklyUpdate: '0 9 * * 0'      // الأحد 9:00 صباحاً
}
```

---

## 📱 للمستخدمين

### التسجيل
1. أرسل `/ابدأ` للبوت
2. إذا كان التحقق مطلوباً، أرسل رقم الاشتراك
3. انتظر الموافقة من المشرف

### تفعيل التذكيرات
```
/تذكير  # تفعيل/إلغاء التنبيهات
```

### الحصول على المساعدة
```
/مساعدة  # دليل كامل للأوامر
/أسئلة   # الأسئلة الشائعة
```

---

## 🚀 النشر والاستضافة

### Railway
1. اربط مستودع GitHub
2. أضف متغيرات البيئة:
   - `BOT_TOKEN`
   - `ADMIN_IDS`
   - `TIMEZONE`
3. انشر تلقائياً

### Render
1. أنشئ خدمة ويب جديدة
2. اختر مستودعك
3. أضف متغيرات البيئة
4. استخدم أمر البناء: `npm install`
5. استخدم أمر التشغيل: `npm start`

### VPS أو خادم خاص
```bash
# تثبيت Node.js 18+
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# استنساخ المشروع
git clone your-repo
cd muin-almujtahidin-bot

# التثبيت والتشغيل
npm install
npm start

# أو باستخدام PM2 للاستقرار
npm install -g pm2
pm2 start arabic-bot.js --name muin-bot
pm2 startup
pm2 save
```

---

## 🧪 الاختبار والتطوير

### تشغيل في وضع التطوير
```bash
npm run dev  # إعادة تشغيل تلقائية عند التعديل
```

### اختبار الأوامر
1. أرسل `/ابدأ` للتسجيل
2. جرب `/مساعدة` لعرض الأوامر
3. اختبر `/الجدول` لعرض الجدولة
4. جرب `/تذكير` لتفعيل التنبيهات

### مراقبة السجلات
```bash
tail -f logs/bot.log  # مراقبة مباشرة
grep "ERROR" logs/bot.log  # البحث عن الأخطاء
```

---

## 🔮 الميزات المستقبلية

### قريباً
- [ ] نظام الاختبارات التفاعلية
- [ ] تقييم الجلسات
- [ ] نشر المحتوى للمشرفين
- [ ] لوحة تحكم ويب

### التطوير المستقبلي
- [ ] تكامل مع Google Sheets
- [ ] دعم الملفات والصور
- [ ] نظام النقاط والتحفيز
- [ ] تحليلات متقدمة للأداء

---

## 📞 الدعم والمساعدة

### الحصول على المساعدة
1. راجع هذا الدليل أولاً
2. تحقق من ملف السجلات
3. ابحث في الأسئلة الشائعة
4. تواصل مع فريق التطوير

### الإبلاغ عن الأخطاء
- أرسل تفاصيل الخطأ
- اذكر الخطوات لإعادة تكرار المشكلة
- أرفق جزء من ملف السجل إن أمكن

---

## 🏆 أفضل الممارسات

### للمشرفين
- راجع الإحصائيات يومياً
- تابع المستخدمين المكتومين
- حدّث الجدول الأسبوعي
- راقب جودة المحتوى

### للطلاب
- فعّل التذكيرات
- تابع الجدول يومياً
- استخدم المحتوى التعليمي
- التزم بآداب المجموعة

---

**🎯 نتمنى لك تجربة ممتعة ومفيدة مع بوت معين المجتهدين!**

---

*آخر تحديث: إصدار 2.0.0 - يناير 2025*